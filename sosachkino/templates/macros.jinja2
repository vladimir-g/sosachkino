{%- macro paginator(pagination) -%}
  {% if pagination["pages"] and pagination["pages"][0]|length > 1 %}
    <nav>
      <ul class="pagination">
        {% if pagination["prev"] %}
          {% set p = pagination["prev"] %}
          <li class="page-item"><a class="page-link" href="{{ p["link"] }}">&laquo;</a></li>
        {% endif %}
        {% for group in pagination["pages"] %}
          {% for p in group %}
            {% if p["current"] %}
              <li class="page-item active"><span class="page-link">{{ p["number"] }}</span></li>
            {% else %}
              <li class="page-item"><a class="page-link" href="{{ p["link"] }}">{{ p["number"] }}</a></li>
            {% endif %}
          {% endfor %}
          {% if not loop.last %}
            <li class="page-item disabled"><span class="page-link">...</span></li>
          {% endif %}
        {% endfor %}
        {% if pagination["next"] %}
          {% set p = pagination["next"] %}
          <li class="page-item"><a class="page-link" href="{{ p["link"] }}">&raquo;</a></li>
        {% endif %}
      </ul>
    </nav>
  {% endif %}
{%- endmacro -%}
